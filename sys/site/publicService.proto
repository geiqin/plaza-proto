syntax = "proto3";
package services;
option go_package ="/.;services";

//公共服务
service PublicService {
  rpc WorkerManUrl (PublicRequest) returns (PublicResponse) {}
  rpc SiteConfig (PublicRequest) returns (PublicResponse) {}
  rpc Copyright (PublicRequest) returns (PublicResponse) {}
  rpc GetOpenAdv (PublicRequest) returns (PublicResponse) {}
  rpc Navigation (PublicRequest) returns (PublicResponse) {}
  rpc Share (PublicRequest) returns (PublicResponse) {}
  rpc MallBasicConfig (PublicRequest) returns (PublicResponse) {}
  rpc LangVersion (PublicRequest) returns (PublicResponse) {}
  rpc GetLangJson (PublicRequest) returns (PublicResponse) {}
}

message WorkerManUrlData {
  string admin =1;
  string chat =2;
}

//商城基础配置汇总
message MallBasicConfigData {
  string site_name =1;//网站名称
  string site_url =2;//网站地址
  string wap_login_logo =3;//移动端登录logo
  string icp_record_no =4;//备案号 record_No
  string icp_url =5;//备案号链接
  string network_security =6;//网安备案
  string network_security_url =7;//网安备案链接
  bool store_self_mention =8;//是否开启到店自提
  bool invoice_func_status =9;//发票功能启用
  bool special_invoice_status =10;//专用发票启用
  bool member_func_status =11;//用户等级启用
  bool balance_func_status =12;//余额功能启用
  bool recharge_switch =13;//小程序充值开关
  bool member_card_status =14;//是否开启付费会员
  bool member_price_status =15;//商品会员折扣价展示启用
  bool ali_pay_status =16;//支付宝是否启用
  bool pay_weixin_open =17;//微信是否启用
  bool yue_pay_status =18;//余额是否启用
  bool offline_pay_status =19;//线下是否启用
  bool friend_pay_status =20;//好友是否启用
  bool wechat_auth_switch =21;//微信登录开关
  bool phone_auth_switch =22;//手机号登录开关
  bool wechat_status =23;//公众号是否配置
  repeated string site_func =24; //功能列表 如：['seckill', 'bargain', 'combination']
}

message SiteConfigData {
  string icp_url =1;
  string icp_record_no =2; //备案号 record_No
  string network_security =3;
  string network_security_url =4;
}


message CopyrightData {
  string copyright_context =1;
  string copyright_image =2;
  string site_logo =3;
  string site_name =4;
}

message GetOpenAdvData {
  int32 status =1; //0 不显示, 1 倒计时, 2 手动关闭(预留)
  int32 time =2; //秒
  string type =3; //pic 图片, video 视频
  string video_link =4;
  repeated string value =5;
}

message ShareData {
  string img = 1;
  string synopsis = 2;
  string title = 3;
}

message PublicRequest {
  int64 paged = 1;
  int64 page_size = 2;
  string sorting = 3;
  //base params
  int64 id = 4;
  string name = 5;
  string status = 6;
  int64 parent_id = 7;
  string keywords = 8;
  repeated int64 ids = 10;
}

message LangVersionData{
  string version =1;
}

message LangJsonData{
  string locale =1;
  map<string,string> content =2;
}

//
message PublicResponse {
  string msg =1;
  WorkerManUrlData worker_man_url =2;
  MallBasicConfigData mall_basic_config =3;
  SiteConfigData site_config =4;
  CopyrightData copyright =6;
  GetOpenAdvData get_open_adv =7;
  bytes navigation =8;
  ShareData share =9;
  LangVersionData lang_version =10;
  LangJsonData get_lang_json =11;
}
