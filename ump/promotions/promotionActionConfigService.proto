syntax = "proto3";
package services;
option go_package = ".;services";

//活动常用优惠策略
message PromotionActionConfig {
    int64 order_reduce_amount =1; //订单优惠金额
    float order_fixed_discount =2; //订单固定折扣
    float promotion_items_fixed_discount =3; //订单中促销项目固定折扣
    bool free_postage =4; //免运费
    float shipping_percentage_discount =5; //运费百分比折扣
    int32 send_integral =6; //送积分
    repeated int64 send_present_ids =7; //送赠品（送完为止）
    repeated int64 send_coupon_batch_ids =8; //送优惠劵（送完为止）
    map<string,int64> send_custom_thing_ids  =9; //送自定义事物对象Ids
    string promotion_ladder_mode =10; //订单中促销项目-阶梯模式：1-阶梯满减，2-循环满减
    repeated LadderDiscount promotion_ladder_increase =11; //订单中促销项目-阶梯递增满减
    LadderDiscount promotion_ladder_loop =12; //订单中促销项目-阶梯循环满减
}

//阶梯优惠
message LadderDiscount {
    int64 least_amount =1;//满N元
    int32 least_number =2;//满N件
    LadderDiscountPreferential preferential =3;//优惠内容
}

//阶梯优惠内容
message LadderDiscountPreferential  {
    string money_type =1;//金额类型：0-无，1-减金额，2-打折
    int64 money_reduce =2;//减金额
    float money_discount =3;//打折
    bool free_postage =4; //免运费
    int32 send_integral =5; //送积分
    repeated int64 send_present_ids =6; //送赠品（送完为止）
    repeated int64 send_coupon_batch_ids =7; //送优惠劵（送完为止）
    map<string,int64> send_custom_thing_ids  =8; //送自定义事物对象Ids
}
