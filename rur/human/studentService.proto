syntax = "proto3";
package services;
option go_package = ".;services";
import "common/base.proto";
import "personService.proto";

service StudentService {
	//创建在校生情况
	rpc Create (Student) returns (StudentResponse) {}
	// 编辑在校生情况
	rpc Update (Student) returns (StudentResponse) {}
	// 删除在校生情况
	rpc Delete (Student) returns (StudentResponse) {}
	// 获取在校生情况详情
	rpc Get (Student) returns (StudentResponse) {}
	//分页查询家庭列表
	rpc Search (StudentRequest) returns (StudentResponse) {}
}

//在校生情况
message Student {
	int64 id = 1;
	int64 person_id = 2;
	int64 school_id = 3;
	string school_name = 4;
	string real_name = 5;
	string id_card = 6;
	int32 grade = 7;
	int64 duty_help_amount = 8;
	int64 other_help_amount = 9;
	string addr = 10;
	string status = 11;
	string created_at = 12;
	string updated_at = 13;
	Person person =14;
}


message StudentRequest {
	int32 paged = 1;
	int32 page_size = 2;
	string sorting = 3;
	//----
	int64 school_id = 4;
	int64 person_id = 5;
	int64 master_id = 6;
	string real_name = 7;
	string id_card = 8;
	string status = 9;
}

message StudentData {
	Student entity = 1;
	common.Pager pager =2;
	repeated Student items = 3;
	common.Info info =4;
}

message StudentResponse {
	StudentData data = 1;
	common.Error error = 2;
}
