syntax = "proto3";
package services;
option go_package ="/.;services";
import "common/base.proto";
import "benefitService.proto";

service LevelService {
    rpc Create (Level) returns (LevelResponse) {}
    rpc Update (Level) returns (LevelResponse) {}
    rpc Delete (Level) returns (LevelResponse) {}
    rpc Get (Level) returns (LevelResponse) {}
    rpc Search (LevelRequest) returns (LevelResponse) {}
    rpc List (LevelRequest) returns (LevelResponse) {}
}

message Level {
    int32   id =1;//ID
    string  type =2;//类型：free免费会员，pay付费会员
    string  name =3;//等级名称
    string  icon_url =5;//图标URL
    int32   bg_mode =6;//背景模式：1背景颜色，2背景图片
    string  bg_color =7;//卡面背景颜色
    string  bg_image_url =9;//背景图URL
    int64   min_integral =10;//需要最低积分
    int64   max_integral =11;//需要最大积分
    string  description =12;//等级描述/使用须知
    string  is_free_postage =13;//是否会员包邮(会员权益)(0否，1是)
    string  is_member_discount =14;//是否会员折扣(会员权益)(0否，1是)
    string  is_member_price =15;//是否会员价(会员权益)：单独设置会员价活动的商品，不享受消费折扣(0否，1是)
    string  is_point_rate =16;//是否积分回馈倍率(0否，1是)
    string  is_upgrade_package =17;//是否有升级包(0否，1是)
    string  is_supported_renew =18;//是否允许会员续费(0否，1是)
    string  is_supported_pay_buy =19;//是否开启付费购买会员(0否，1是)
    float   discount_rate =20;//会员折扣率
    float   point_rate =21;//积分回馈倍率
    string  status =22;//状态：启用，禁用
    string created_at =23;
    string updated_at =24;
    LevelPackage upgrade_package =25;
    repeated Benefit benefits =26;
}

message LevelPackage {
    string is_send_integral =1;//是否赠送积分(0否，1是)
    string is_send_coupon =2;//是否赠送优惠劵(会员权益)(0否，1是)
    string is_send_gift =3;//是否赠送礼品(会员权益)(0否，1是)
    int64 send_integral =4;//赠送积分数
    repeated send_coupon send_coupon_data =5;//赠送优惠劵数据
    repeated send_gift send_gift_data =6;//赠送礼品数据
    message send_coupon {
        int64 coupon_id =1;
        string title =2;
        int32 number =3;
    }
    message send_gift  {
        int64 spu_id =1;
        string md5_key =2;
        string title =3;
        string unit =4;
        string image_url =5;
        int32 number =6;
    }
}

message LevelRequest {
    int64 paged = 1;
    int64 page_size = 2;
    //以下为自定义参数
    int32 id =3;
    string name = 4;
    string type =5;
    string status =6;
}

message LevelData {
    Level entity = 1;
    common.Pager pager =2;
    repeated Level items = 3;
    common.Info info =4;
}

message LevelResponse {
    LevelData data = 1;
    common.Error error = 2;
}

