syntax = "proto3";
package services;
option go_package ="/.;services";
import "common/base.proto";
import "baseInfoService.proto";
import "payAccountService.proto";

// 支付方式服务
service PaymentService {
  // 支付方式新增
  rpc Create (Payment) returns (PaymentResponse) {}
  // 支付方式修改
  rpc Update (Payment) returns (PaymentResponse) {}
  // 支付方式删除
  rpc Delete (Payment) returns (PaymentResponse) {}
  // 支付方式获取
  rpc Get (Payment) returns (PaymentResponse) {}
  // 支付关键信息
  rpc GetKeyInfo (Payment) returns (PaymentResponse) {}
  // 支付方式查询
  rpc Search (PaymentRequest) returns (PaymentResponse) {}
  // 支付方式列表
  rpc List (PaymentRequest) returns (PaymentResponse) {}
}
// 支付方式
message Payment {
  int32 id = 1; //ID
  string pay_type = 2; //支付类型
  int32 pay_channel_id = 3; //支付通道ID
  string pay_channel_code = 4; //支付通道编码
  PayChannelInfo pay_channel_info = 5; //支付通道
  int32 account_id = 6; //支付账户ID
  string client_type = 8; //客户端类型
  string client_app_id = 9; //客户端AppId
  int32 sort = 10; //排序值
  string status = 11; //启用状态
  int64 created_at = 12; //创建时间
  int64 updated_at = 13; //修改时间
  PayAccount account =14;
}

//支付关键信息
message PayKeyInfo {
  string pay_type = 1; //支付类型
  int32 payment_id = 2; //ID
  int32 pay_channel_id = 3; //支付通道ID
  string pay_channel_code = 4; //支付通道编码
  string pay_channel_name = 5; //支付通道名称
  int32 pay_account_id = 6; //支付账户ID
  string pay_account_no = 7; //支付账户编号
  string is_provider = 8; //是否服务商
  string client_type = 9; //客户端类型
  string client_app_id = 10; //客户端AppId
  string user_openid = 11; //用户OpenId
}


// 支付方式请求参数
message PaymentRequest {
  int32 top = 1;
  int64 paged = 2;
  int64 page_size = 3;
  string keywords = 4;
  repeated string sort = 5;
  repeated string date_range = 6;
  repeated int32 ids = 7;
  int32 id = 8;
  //以下为自定义参数
  string pay_type = 11; //支付类型
  int32 pay_channel_id = 12; //支付通道ID
  string pay_channel_code = 13; //支付通道编码
  int32 account_id = 14; //支付账户ID
  string client_type = 17; //客户端类型
  string client_app_id = 18; //客户端AppId
  string status = 19; //启用状态
}
// 支付方式响应数据
message PaymentResponse {
  string msg = 1;
  common.Pager pager = 2;
  Payment entity = 3;
  repeated Payment items = 4;
  PayKeyInfo payKeyInfo = 5;
}